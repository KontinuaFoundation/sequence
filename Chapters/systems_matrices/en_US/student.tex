\chapter{Systems of Equations as Matrices}\label{chap:syseqma}
You have already gained experience with matrices earlier in this module, as well as when you have used spreadsheets. In this chapter, you will learn the types of matrices and get an introduction to some of the special matrices used for various calculations. 

As you know, a matrix is a rectangular array of numbers arranged in rows and columns. The individual numbers in the matrix are called elements or entries. Matrices can be described by their dimensions. For example, a matrix with 2 rows and 3 columns is a 2 by 3 matrix.

$$\begin{bmatrix}
1 & 2 & 3\\
4 & 5 & 6 
\end{bmatrix}
$$

More generally, a matrix with $m$ rows and $n$ columns is referred to as an $m \times n$ matrix, or simply an $m$-by-$n$ matrix; $m$ and $n$ are its dimensions.

The general form of a $2 \times 3$ matrix $A$ is:
$$
A = \begin{bmatrix}
a_{1,1} & a_{1,2} & a_{1,3} \\
a_{2,1} & a_{2,2} & a_{2,3}
\end{bmatrix}
$$

\section{Types of Matrices}
\index{matrices!shapes of}

Matrices can be described by their shape:
\begin{description}
    \item[\textbf{Row Matrix}] A matrix of size $1\times n$ with $1$ row and $n$ columns.
    \item[\textbf{Column Matrix}] A matrix of size $n\times 1$ with $n$ rows and $1$ column, typically used to represent vectors. 
    \item[\textbf{Square Matrix}] A matrix of size $n\times n$, containing the same number of rows and columns
    \item[\textbf{Rectangular Matrix}] A matrix of size $m \times n$, that has an unequal number of rows and columns.
    
\end{description}
\index{matrices!properties of}
They can also be described by their unique numerical properties. Special matrices that come in handy for certains types of computations. These are a few of the most common special matrices:
\begin{description}
	\item[\textbf{Zero Matrix}] A matrix that only contains entries that are zero. $$\vecb{0 & 0 \\ 0 & 0}$$ The matrix above could also be $$0_{2\times 2}$$
       \item[\textbf{Diagonal Matrix}] A square matrix with nonzero entries along the diagonal, and zeroes everywhere else. $$\vecb{2 & 0 & 0 \\ 0 & 4 & 0 \\ 0 & 0 & 6}$$
	\item[\textbf{Identity Matrix}] A diagonal matrix with entries of 1 along the diagonal. $$\vecb{1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1}$$
	\item[\textbf{Symmetric Matrix}] A Symmetric matrix is a matrix, when transposed, becomes itself.
	$$
       A = \begin{bmatrix}
       20 & 40 & 60 \\
       40 & 50 & 80 \\
       60 & 80 & 100
       \end{bmatrix}
       $$
	\item[\textbf{Triangular Matrix}] This is a special square matrix that can be upper triangular or lower triangular. If upper, the main diagonal and all entries above it are nonzero while the lower entries are all zero. If lower, the main diagonal and all the entries below it are nonzero, while the upper entries are all zero. A matrix that is both upper and lower triangular becomes a diagonal matrix.
	
       Upper Triangular Matrix
       $$
       \begin{bmatrix}
       2 & 3 & 1 \\
       0 & 5 & 4 \\
       0 & 0 & 6
       \end{bmatrix}
       $$
       Lower Triangular matrix
       $$
       \begin{bmatrix}
       7 & 0 & 0 \\
       2 & 5 & 0 \\
       4 & 3 & 9
       \end{bmatrix}
       $$
\end{description}

\subsection{Symmetric Matrices}
\index{symmetric matrices}
If you want to find out if a square matrix is symmetric, you need to transpose it. If the transpose is equal to the original matrix, then the matrix is symmetric.

To transpose a matrix, flip it over its diagonal so that the rows and columns are switched, like this:
$$
A = \begin{bmatrix}
a_{1,1} & a_{1,2} & a_{1,3} \\
a_{2,1} & a_{2,2} & a_{2,3} \\
a_{3,1} & a_{3,2} & a_{3,3}
\end{bmatrix}
$$
After transposing:
$$
A^T = \begin{bmatrix}
a_{1,1} & a_{2,1} & a_{3,1} \\
a_{1,2} & a_{2,2} & a_{3,2} \\
a_{1,3} & a_{2,3} & a_{3,3}
\end{bmatrix}
$$
Note that $A^T$ means the transpose of A. 

Let's see how this works for the following square matrix, A.
$$
A = \begin{bmatrix}
1 & 2 & 3 \\
2 & 4 & 5 \\
3 & 5 & 6
\end{bmatrix}
$$
Switch the rows and columns to get the transpose:
$$
A^T = \begin{bmatrix}
1 & 2 & 3 \\
2 & 4 & 5 \\
3 & 5 & 6
\end{bmatrix}
$$
Notice that $A = A^T$, so the matrix is symmetric.

What about matrix B? 
$$
B = \begin{bmatrix}
1 & 2 & 3 \\
2 & 4 & 5 \\
7 & 8 & 9
\end{bmatrix}
$$
Switch the rows and columns to get the transpose:
$$
B = \begin{bmatrix}
1 & 2 & 7 \\
2 & 4 & 8 \\
3 & 5 & 9
\end{bmatrix}
$$

Note that $B \neq B^T$, so B is not symmetrical.

\begin{Exercise}[title={Matrix Transposition}, label=matrix-transpose01]
Find the transpose of this matrix. Is it symmetric? 
$$A = \begin{bmatrix}
 		3 & -2 &4  \\
 		-2 & 6 &2 \\
 		4 & 2 & 3 
	  \end{bmatrix}$$
\end{Exercise}
\begin{Answer}[ref=matrix-transpose01]
$$A =  A^t = 
	  \begin{bmatrix}
 		3 & -2 & 4  \\
 		-2 & 6 & 2 \\
 		4 & 2 & 3 
	\end{bmatrix}$$
\end{Answer}
\section{Systems of Equations}

We have talked a lot about matrices and vectors. Now we can use matrices and vectors to solve systems of equations. A system of linear equations can be written compactly using matrices and vectors. This matrix representation allows us to use algebraic tools such as row operations and matrix multiplication to analyze and solve the system more efficiently. Let's look at a very simple example from a previous section.

\[\begin{cases}
1x_1 + 2x_2 = -1 \\
2x_1 + 0x_2 = 4
\end{cases}\]

We can write this in the form of a matrix! This may come as a surprise to some of you. How can we do this? Let's rewrite the the coefficients as a matrix and the $x_n$'s as column vector, and the constant vector, or right-hand-side vector, called $\vec{b}$. 

Here is the coefficient matrix which we will call $A$:
\[A = \vecb{1 & 2 \\ 2 & 0}\]

Then we can write the column vector of $x$, which we will terminalize as $\vec{x}$
\[\vec{x} = \vecb{x_1 \\ x_2}\] 

And we can write the $\vec{b}$ as the following column vector:

\[
\vec{b} = \vecb{-1 \\ -4}
\]

Now, if we multiply $A$ and $\vec{x}$,
$$A\vec{x} = \vecb{1 & 2 \\ 2 & 0}\vecb{x_1 \\ x_2} = \vecb{1x_1 + 2x_2 \\ 2x_1 + 0x_2}$$

We get exactly the left-hand sides of our original system of equations!
Therefore, when we set this equal to the right-hand-side vector $\vec{b}$:
$$\vec{b}=\vecb{-1 \\ 4}$$
we get the fundamental system of equation formula represented as a matrix Equation
\begin{equation}
       A\vec{x} = \vec{b}
       \label{eq:matrixform}
\end{equation}

This is a very important equation for linear algebra as a whole. Notice that the size of matrix has to respect the matrix multiplication rules:
\[\underset{m \times n}{A} \cdot \underset{n \times 1}{\vec{b}} = \underset{m\times 1}{\vec{p}}\]

\begin{Exercise}[title=Matrix Equation, label=matrixeq1]
       Rewrite the systems of equations in matrix form and identify $A$, $\vec{x}$, and $\vec{b}$. 
       \[\begin{cases}
       -4x_1 + 9x_2 - 8x_3= 5\\
       -1x_1 + 0x_2 + 6x_3= 7
       \end{cases}\]
\end{Exercise}

\begin{Answer}[ref=matrixeq1]
     \[A = \vecb{-4 & 9 & -8 \\ -1 & 0 & 6}, \quad \vec{x} = \vecb{x_1 \\ x_2 \\ x_3}, \quad \vec{b} = \vecb{5 \\ 7}\]
     \[A\vec{x}=\vec{b} \implies \vecb{-4 & 9 & -8 \\ -1 & 0 & 6}\vecb{x_1 \\ x_2 \\ x_3} = \vecb{5 \\ 7}\]
\end{Answer}

\section{Row-Echelon Form}
This brings up the question, how can we solve for the $\vec{x}$? There are multiple ways.

\section{Reduced Row Echelon Form}







\section{Creating Matrices in Python}
Create a file called \filename{matrices\_creation.py} and enter this code:
\begin{Verbatim}
# import the python module that supports matrices
import numpy as np
# Use the function np.array to define a matrix that 
# contains specific values that you supply.
A = np.array([[ 5, 1, 3], 
              [ 1, -1, 8], 
              [ 6, 2, 1]])
# The transpose function returns 
A.transpose()
\end{Verbatim}
When you run it, you should see:
\begin{Verbatim}
array([[ 5, 1, 6], 
       [ 1, -1, 2], 
       [ 3, 8, 1]])
\end{Verbatim}
As you can see, $A\neq A^T$, so A is not symmetric.
Try another: 
\begin{Verbatim}
# create a matrix, B
B = np.array([[ 5, 1, 6], 
              [ 1, -1, 2], 
              [ 6, 2, 1]])
B.transpose()
\end{Verbatim}
When you run it, you should see:
\begin{Verbatim}
array([[ 5, 1, 6], 
       [ 1, -1, 2], 
       [ 6, 2, 1]])
\end{Verbatim}
B is symmetric. You can actually transpose any matrix using this function, but a matrix cannot be symmetric unless it is square. 

Try this code to see what happens when you transpose a rectangular matrix. 
\begin{Verbatim}
# create a matrix, J
J = np.array([[ 5, 1, 3, 0], 
              [ 1, -1, 8, 11], 
              [ 6, 2, 1,-7]])
J.transpose()
\end{Verbatim}
Note that transposing a rectangular matrix changes its dimension from 3 by 4 to 4 by 3. You should see a transposed matrix, but it's not symmetric.
\begin{Verbatim}
array([[ 5,  1,  6],
       [ 1, -1,  2],
       [ 3,  8,  1],
       [ 0, 11, -7]])
\end{Verbatim}

\subsection{Creating Special Matrices in Python}
 Use the same file to add this code for creating a zero matrix.
\begin{Verbatim}
# create an 8 by 10 Zero matrix.
 C = np.zeros((8, 10))
 C
\end{Verbatim}
When you run it, you should see:
\begin{Verbatim}
array([[0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]])
\end{Verbatim}
Add the following code to create an 8 by 8 Identity matrix.
\begin{Verbatim}
# create an 8 by 8 Identity matrix 
 D = np.eye(8)
 D
\end{Verbatim}
When you run it, you should see:
\begin{Verbatim}
array([[1., 0., 0., 0., 0., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1., 0., 0.],
       [0., 0., 0., 0., 0., 0., 1., 0.],
       [0., 0., 0., 0., 0., 0., 0., 1.]])
\end{Verbatim}
As you progress in your studies, you will learn the importance of diagonal matrices and of extracting the diagonal of a matrix. Let's see how to extract a diagonal, then create a diagonal matrix.
\begin{Verbatim}
# create a  matrix 
W = np.array([[1, 2, 3, 4], 
              [5, 6, 7, 8], 
              [-8, -7, -6, -5],
              [-4, -3, -2, -1]])
\end{Verbatim}
Extract the main diagonal using np.diag(<array>,<diagonal to extract>). 
Passing 0 as the second parameter specifies the main diagonal. A positive value extracts a diagonal from the upper part. A negative value extracts a diagonal from the lower part. Run this code then experiment passing other values to see what you get.
\begin{Verbatim}
print(np.diag(W,0))
\end{Verbatim}
When you run it, you should see:
\begin{Verbatim}
array([ 1,  6, -6, -1])
\end{Verbatim}
You can also use np.diag() to create a diagonal matrix from a 1D array. In this case, do not pass a second paramenter.
\begin{Verbatim}
Q = np.array([1, 2, 3])
DiagArray = np.diag(Q))
print(DiagArray)
\end{Verbatim}
When you run it you should see;
\begin{Verbatim}
[[1 0 0]
 [0 2 0]
 [0 0 3]]
\end{Verbatim}
Python has functions for extracting upper and lower triangular matrices. Try these:
\begin{Verbatim}
print(np.triu(W))
print(np.tril(W))
\end{Verbatim}
You should see:
\begin{Verbatim}
[[ 1  2  3  4]
 [ 0  6  7  8]
 [ 0  0 -6 -5]
 [ 0  0  0 -1]]
 
[[ 1  0  0  0]
 [ 5  6  0  0]
 [-8 -7 -6  0]
 [-4 -3 -2 -1]]
\end{Verbatim}



