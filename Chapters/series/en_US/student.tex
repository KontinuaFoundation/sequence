\chapter{Series}
When writing a number with an infinite decimal, such as the Golden 
Ratio (also known as the Golden Number):
$$\phi = 1.618033988 \cdots$$

The decimal system means we can re-write the Golden Ratio (or any 
irrational number) as an infinite sum:
$$\phi = 1 + \frac{6}{10} + \frac{1}{10^2} + \frac{8}{10^3} + 
\frac{0}{10^4} + \frac{3}{10^5} + \cdots$$

You might recall from the chapter on Riemann Sums that we can 
represent the addition of many (or infinite) with big sigma notation:
$$\sum_{i = 1}^n a_i$$
Where i is the index as discussed in Sequences and n is the number of 
terms. For infinite sums, $n = \infty$.

\section{Partial Sums}
Let us quickly define a \textit{partial sum}. A partial sum is where 
we only look at the first $n$ terms of a series. For the general 
series, $\sum_{i=1}^{n} a_i$, the partial sums are:
$$s_1 = a_1$$
$$s_2 = a_1 + a_2$$
$$s_3 = a_1 + a_2 + a_3$$
$$\cdots$$
$$s_n = a_1 + a_2 + \cdots + a_n = \sum_{i=1}^{n} a_i$$

\textbf{Example}: A series is given by $\sum_{i=1}^\infty 
(\frac{-3}{4})^i$. What is the value of the partial sum $s_4$?

\textbf{Solution}: $s_4$ is the sum of the first 4 terms: 
$$(\frac{-3}{4})^1 + (\frac{-3}{4})^2 + (\frac{-3}{4})^3 + (\frac{-3}{4})^4$$
$$= \frac{-3}{4} + \frac{9}{16} + \frac{-27}{64} + \frac{81}{256} = \frac{-75}{256}$$


\section{Convergent and Divergent Series}
Just like sequences, series can also be convergent or divergent. 
Consider the series $\sum_{i=1}^\infty i$. Given what you already 
know about the meaning of "convergent" and "divergent", guess whether 
$\sum_{i=1}^\infty i$ is convergent or divergent. 

Let's determine the first few partial sums of the series (shown 
graphically in figure \ref{fig:divsum}):
\begin{center}
\begin{tabular}{|c|c|c|}\hline
n & Terms & Partial Sum\\
\hline
1 & 1 & 1\\
\hline
2 & 1+2 & 3\\
\hline
3 & 1+2+3 & 6\\
\hline
4 & 1+2+3+4 & 10\\
\hline
\end{tabular}
\end{center}

\begin{figure}[htbp]
\centering
    \begin{tikzpicture}
        \begin{axis}[axis lines = center, xmin = -0.5, xmax = 10, 
        ymin = 0, ymax = 55, xlabel=n, ylabel = $s_n$]
        \addplot[blue, mark=*](1,1);
        \addplot[blue, mark=*](2, 3);
        \addplot[blue, mark=*](3, 6);
        \addplot[blue, mark=*](4, 10);
        \addplot[blue, mark=*](5, 15);
        \addplot[blue, mark=*](6, 21);
        \addplot[blue, mark=*](7, 28);
        \addplot[blue, mark=*](8, 36);
        \addplot[blue, mark=*](9, 45);
        \addplot[blue, mark=*](10,55);
        \end{axis}
\end{tikzpicture}
    \caption{For the divergent series $\sum_{i=1}^n i$, the value of the 
    partial sum increases to infinity as $n$ increases}
    \label{fig:divsum}
\end{figure}

As you can see, as $n$ increases, the value of the partial sum 
increases without approaching a particular value. We can also see 
that the value of the first $n$ terms summed together is 
$\frac{n(n+1)}{2}$. This means that as $n$ approaches $\infty$, the 
sum also approaches $\infty$ and the series is divergent. 

Obviously, for a series to not become huge, the values of the terms 
should decrease as $i$ increases (that is, each subsequent term is 
smaller than the one before it). Take the series $\sum_{i=1}^\infty 
\frac{1}{2^i}$. As $i$ increases, $\frac{1}{2^i}$ decreases. Let's 
look at the first few partial sums of this series (shown graphically 
in figure \ref{fig:convsum}):
\begin{center}
\begin{tabular}{|c|c|c|}\hline
n & Terms & Partial Sum\\
\hline
1 & $\frac{1}{2}$ & $\frac{1}{2}$\\
\hline
2 & $\frac{1}{2} + \frac{1}{4}$ & $\frac{3}{4}$\\
\hline
3 & $\frac{1}{2} + \frac{1}{4} + \frac{1}{8}$ & $\frac{7}{8}$\\
\hline
4 & $\frac{1}{2} + \frac{1}{4} + \frac{1}{8} + \frac{1}{16}$ & 
$\frac{15}{16}$\\
\hline
\end{tabular}
\end{center}

\begin{figure}[htbp]
\centering
    \begin{tikzpicture}
        \begin{axis}[axis lines = center, xmin = -0.5, xmax = 8, 
        ymin = 0, ymax = 1.5, ytick = {1}, xlabel=n, ylabel = $s_n$]
        \addplot[blue, mark=*](1,0.5);
        \addplot[blue, mark=*](2, 3/4);
        \addplot[blue, mark=*](3, 7/8);
        \addplot[blue, mark=*](4, 15/16);
        \addplot[blue, mark=*](5, 31/32);
        \addplot[blue, mark=*](6, 63/64);
        \addplot[blue, mark=*](7, 127/128);
        \addplot[blue, mark=*](8, 255/256);
        \addplot[red, thin, dashed, domain = 0:8]{1};
        \end{axis}
\end{tikzpicture}
    \caption{For the convergent series $\sum_{i=1}^n \frac{1}{2^i}$, 
    the value of the partial sum approaches 1 as $n$ increases}
    \label{fig:convsum}
\end{figure}

Do you see the pattern? The $n^{th}$ partial sum is equal to 
$\frac{2^n - 1}{2^n} = 1 - \frac{1}{2^n}$. And as $n$ approaches 
$\infty$, the partial sum approaches 1. The series $\sum_{i=1}^\infty 
\frac{1}{2^i}$ is convergent. 

Let us define the sequence \{$s_n$\} where $s_n$ is the $n^{th}$ 
partial sum of a series:
$$s_n = \sum_{i=1}^n a_i$$. 

If the sequence \{$s_n$\} is convergent and $\lim_{n \to \infty} s_n$ 
exists, then the series $\sum_{i=1}^\infty a_i$ is also convergent. 
And if the sequence \{$s_n$\} is divergent, then the series 
$\sum_{i=1}^\infty a_i$ is also divergent.

\textbf{Example}: is the harmonic series, $\sum_{n = 1}^\infty \frac{1}{n}$ 
convergent or divergent?

\textbf{Solution}: You may think that the series is convergent, since $\lim_
{n \to \infty} \frac{1}{n} = 0$. Let's see if we can confirm this. We begin by 
looking at the partial sums $s_2$, $s_4$, $s_8$, and $s_16$:
$$s_2 = 1 + \frac{1}{2}$$
$$s_4 = 1 + \frac{1}{2} + \left(\frac{1}{3} + \frac{1}{4} \right) > 1 + 
\frac{1}{2} + \left( \frac{1}{4} + \frac{1}{4} \right) = 1 + \frac{2}{2}$$
$$s_8 = 1 + \frac{1}{2} + \left(\frac{1}{3} + \frac{1}{4} \right) + \left( 
\frac{1}{5} + \frac{1}{6} + \frac{1}{7} + \frac{1}{8} \right) > 1 + \frac{1}{2} 
+ \left(\frac{1}{4} + \frac{1}{4} \right) + \left( \frac{1}{8} + \frac{1}{8} + 
\frac{1}{8} + \frac{1}{8} \right) = 1 + \frac{3}{2}$$
$$s_{16} = 1 + \frac{1}{2} + \left(\frac{1}{3} + \frac{1}{4} \right) + \left( 
\frac{1}{5} + \frac{1}{6} + \frac{1}{7} + \frac{1}{8} \right) + \left(
\frac{1}{9} + \cdots + \frac{1}{16} \right) > $$
$$1 + \frac{1}{2} + \left(\frac{1}{4} + \frac{1}{4} \right) + \left( 
\frac{1}{8} + \frac{1}{8} + \frac{1}{8} + \frac{1}{8} \right) + \left(
\frac{1}{16} + \cdots + \frac{1}{16} \right) = 1 + \frac{4}{2}$$

Notice that, in general, $s_{2^n} > 1 + \frac{n}{2}$ for $n > 1$. Taking the 
limit as $n \to \infty$, we see that $\lim_{n \to \infty} s_{2^n} > \lim_{n 
\to \infty} 1 + \frac{n}{2} = \infty$. Therefore, $s_{2^n}$ also approaches 
$\infty$ as $n$ gets larger and the harmonic series $\sum_{n = 1}^\infty 
\frac{1}{n}$ is divergent. 

This example shows a very important point: the converse of a theorem is not 
always true! We do know that if a series is convergent, then the limit as n 
approaches infinity must be zero. The harmonic series shows that \textit{just 
because the limit as n approaches infinity is zero, the series is not 
necessarily convergent}. What we can say, though, is that the contrapositive 
statement is true: if the limit as n approaches infinity of a series does not 
exist or is not zero, then the series is divergent (i.e. not convergent). 

\section{Geometric Series}

Let's apply this definition of convergent and divergent to geometric 
series. You should recall from the chapter on sequences that a 
geometric sequence can be defined by $a_i = a(r)^{i-1}$, where $r$ 
is the common ratio and $a \neq 0$. We can express the 
\textit{geometric series} thusly:
$$a + ar + ar^2 + ar^3 = \sum_{i=1}^\infty ar^{i-1}$$

When are geometric series convergent? First, let's consider the case 
where $r=1$. If this is true, then $s_n = a + a + a + \cdots + a = 
na$. As $n$ approaches $\infty$, the sum will approach $\pm \infty$ 
(depending on whether $a$ is positive or negative), and the series is 
divergent. 

When $r \neq 1$, we can write $s_n$ and $rs_n$:
$$s_n = a + ar + ar^2 + \cdots + ar^{n-1}$$
$$rs_n = ar + ar^2 + ar^3 + \cdots + ar^n$$

Subtracting $rs_n$ from $s_n$, we get:
$$s_n - rs_n = (a + ar + ar^2 + \cdots + ar^{n-1}) - (ar + ar^2 + 
ar^3 + \cdots + ar^{n-1} + ar^n)$$
$$= a - ar^n$$

Solving for $s_n$, we find:
$$s_n = \frac{a(1-r^n)}{1-r}$$

We take the limit as $n \to \infty$ to determine for what values of 
$r$ the series converges:
$$\lim_{n \to \infty} s_n = \lim_{n \to \infty} \frac{a(1-r^n)}{1-r}$$
$$= \lim_{n\to \infty} \frac{a}{1-r} - \frac{ar^n}{1-r} = \frac{a}{1-r} 
- \frac{a}{1-r}\lim_{n \to \infty} r^n$$

This begs the question: when is $\lim_{n \to \infty} r^n$ convergent? 
From the sequences chapter, we know this limit converges if $|r| < 1$ 
(that is, $-1 < r < 1$). If this is true, then $\lim_{n \to \infty} 
r^n = 0$ and 
$$s_n = \frac{a}{1-r}$$

(see figures \ref{fig:geometric1} and \ref{fig:geometric2} for a visual)
\begin{figure}
    \centering
    \begin{tikzpicture}
        \begin{axis}[xmin = -0.5, xmax = 10, ymin = 0, axis lines = center, 
        xlabel = $n$, clip = false, ytick = \empty]
        \addplot[red, mark=*] (1, 2); %r=1.5
        \addplot[red, mark=*] (2, 5);
        \addplot[red, mark=*] (3, 19/2);
        \addplot[red, mark=*] (4, 65/4);
        \addplot[red, mark=*] (5, 211/8);
        \addplot[red, mark=*] (6, 665/16);
        \addplot[red, mark=*] (7, 2059/32);
        \node[red] at (5.5, 60) {$r > 1$};
        
        \addplot[orange, mark=*] (1, 2); %r=1
        \addplot[orange, mark=*] (2, 4);
        \addplot[orange, mark=*] (3, 6);
        \addplot[orange, mark=*] (4, 8);
        \addplot[orange, mark=*] (5, 10);
        \addplot[orange, mark=*] (6, 12);
        \addplot[orange, mark=*] (7, 14);
        \addplot[orange, mark=*] (8, 16);
        \addplot[orange, mark=*] (9, 18);
        \addplot[orange, mark=*] (10, 20);
        \node[orange] at (9, 25) {$r = 1$};
        
        \addplot[blue, mark =*] (1, 2); %r = 0.5
        \addplot[blue, mark =*] (2, 3);
        \addplot[blue, mark =*] (3, 7/2);
        \addplot[blue, mark =*] (4, 15/4);
        \addplot[blue, mark =*] (5, 31/8);  
        \addplot[blue, mark =*] (6, 63/16);
        \addplot[blue, mark =*] (7, 127/32);
        \addplot[blue, mark =*] (8, 255/64);
        \addplot[blue, mark =*] (9, 511/128);
        \addplot[blue, mark =*] (10, 1023/256);
        \node[blue] at (10, 10) {$0 < r < 1$};
        \end{axis}
    \end{tikzpicture}
    \caption{Geometric sequences are divergent if $r \geq 1$}
    \label{fig:geometric1}
\end{figure}

\begin{figure}
    \centering
    \begin{tikzpicture}
        \begin{axis}[xmin = -0.5, xmax = 10, axis lines = center, 
        xlabel = $n$, clip = false, ytick = \empty]
        \addplot[red, mark=*] (1, 2); %r=-1.5
        \addplot[red, mark=*] (2, -1);
        \addplot[red, mark=*] (3, 7/2);
        \addplot[red, mark=*] (4, -13/4);
        \addplot[red, mark=*] (5, 55/8);
        \addplot[red, mark=*] (6, -133/16);
        \addplot[red, mark=*] (7, 463/32);
        %\addplot[red, mark=*] (8, -1261/64);
        %\addplot[red, mark=*] (9, 4039/128);
        %\addplot[red, mark=*] (10, -11605/256);
        \node[red] at (5, 10) {$r > 1$};
        
        \addplot[orange, mark=*] (1, 2); %r=-1
        \addplot[orange, mark=*] (2, 0);
        \addplot[orange, mark=*] (3, 2);
        \addplot[orange, mark=*] (4, 0);
        \addplot[orange, mark=*] (5, 2);
        \addplot[orange, mark=*] (6, 0);
        \addplot[orange, mark=*] (7, 2);
        \addplot[orange, mark=*] (8, 0);
        \addplot[orange, mark=*] (9, 2);
        \addplot[orange, mark=*] (10, 0);
        \node[orange] at (9, -3) {$r = -1$};
        
        \addplot[blue, mark =*] (1, 2); %r = -0.5
        \addplot[blue, mark =*] (2, 1);
        \addplot[blue, mark =*] (3, 3/2);
        \addplot[blue, mark =*] (4, 5/4);
        \addplot[blue, mark =*] (5, 11/8);  
        \addplot[blue, mark =*] (6, 21/16);
        \addplot[blue, mark =*] (7, 43/32);
        \addplot[blue, mark =*] (8, 85/64);
        \addplot[blue, mark =*] (9, 171/128);
        \addplot[blue, mark =*] (10, 341/256);
        \node[blue] at (9, 5) {$-1 < r < 0$};
        \end{axis}
    \end{tikzpicture}
    \caption{Geometric sequences are divergent if $r \leq 1$. Notice that for 
    $r = -1$, the partial sums alternate between the initial term and zero.}
    \label{fig:geometric2}
\end{figure}

\textbf{Example}: Find the sum of the geometric series given by $2 - 
\frac{2}{3} + \frac{2}{9} - \frac{2}{27} + \cdots$. 

\textbf{Solution}: The first term is $a = 2$ and each the common 
ratio is $r = \frac{-1}{3}$. Since $|r| < 1$, we know that the series 
converges. We can calculate the value of the sum using the geometric 
series formula: 
$$\sum_{i=1}^\infty a(r)^{i-1} = \frac{a}{1-r}$$
$$\sum_{i=1}^\infty 2(\frac{-1}{3})^{i-1} = \frac{2}{1-\frac{-1}{3}} = 
\frac{2}{\frac{4}{3}} = \frac{6}{4} = 1.5$$

We can confirm this graphically (see figure \ref{fig:geometric}). You 
can also write out the first several partial sequences: you should 
find the sums approach 1.5 as $n$ increases.

\begin{figure}[htbp]
\centering
    \begin{tikzpicture}
        \begin{axis}[axis lines = center, xmin = -0.5, xmax = 8, 
        ymin = -1.5, ymax = 2, xlabel=n, legend pos = south east]
        \addplot[blue, mark=*](1,2);
        \addlegendentry{$s_n$};
        \addplot[red, mark=o](1, 2);
        \addlegendentry{$a_n$};
        \addplot[blue, mark=*](2, 4/3);
        \addplot[blue, mark=*](3, 14/9);
        \addplot[blue, mark=*](4, 40/27);
        \addplot[blue, mark=*](5, 122/81);
        \addplot[blue, mark=*](6, 364/243);
        \addplot[blue, mark=*](7, 1094/729);
        \addplot[blue, mark=*](8, 3280/ 2187);
        \addplot[red, mark=o](2, -2/3);
        \addplot[red, mark=o](3, 2/9);
        \addplot[red, mark=o](4, -2/27);
        \addplot[red, mark=o](5, 2/81);
        \addplot[red, mark=o](6, -2/243);
        \addplot[red, mark=o](7, 2/729);
        \addplot[red, mark=o](8, -2/2187);
        \addplot[red, thin, dashed, domain = 0:8]{1.5};
        \end{axis}
\end{tikzpicture}
    \caption{the $n^{th}$ term and partial sums of $\sum_{i=1}^n 
    2(\frac{-1}{3})^{i-1}$}
    \label{fig:geometric}
\end{figure}

\section{p-series}
A $p$-series takes the form $\sum_{n=1}^\infty \frac{1}{n^p}$. For what 
values of $p$ does the $p$-series converge? We can apply the integral test to 
find a general rule. First, we consider $p < 0$. 
Since $p < 0$, we will define $q = -p$ and note that $q > 0$. Then $\sum_
{n=1}^\infty \frac{1}{n^p} = \sum_{n=1}^\infty n^q$. And we can see that:
$$\lim_{n \to \infty}\frac{1}{n^p} = \lim_{n \to \infty}n^q$$
Since $q > 0$, $\lim_{n \to \infty}n^q = \infty$. Since $a_n$ does not 
approach zero as $n \to \infty$, we know that $\sum_{n = 1}^\infty 
\frac{1}{n^p}$ diverges for $p < 0$. 

Next we examine the case where $p=0$. Since any real number raised to zero 
power is 1, we can see that $lim_{n \to \infty} \frac{1}{n^p} = \lim_{n \to 
\infty} 1 = 1$. Again, since $a_n$ does not approach zero as $n \to \infty$, 
the series diverges for $p = 0$. 

When $p > 0$, the function $f(x) = \frac{1}{x^p}$ is continuous, positive, and 
decreasing on the interval $[1, \infty)$ and we can apply the integral test to 
determine if $\sum_{n=1}^\infty \frac{1}{n^p}$ converges or diverges. We 
already know that $\int_1^\infty \frac{1}{x}\,dx = \lim_{x \to \infty} \ln{x} 
= \infty$. Since the integral diverges when $p = 1$, then the series $\sum_
{n=1}^\infty \frac{1}{x^p}$ also diverges for $p = 1$. 

When $p > 0$ and $p \neq 1$, then:
$$\int_1^\infty \frac{1}{x^p}\,dx = \lim_{t \to \infty} \int_1^t x^{-p}\,dx $$
$$= \lim_{t \to \infty} \frac{x^{-p + 1}}{-p + 1}|_{x=1}^{x=t} = \left( \frac{1}
{1 - p} \right) \lim_{t \to \infty} \left( \frac{1}{t^{p - 1}} - 1 \right)$$

If $p > 1$, then $p - 1 >0$ and $\lim_{t \to \infty} \frac{1}{t^{p - 1}} = 
\frac{1}{\infty} = 0$ and the integral $\int_1^\infty \frac{1}{x^p}\,dx$ 
converges to $\frac{1}{p - 1}$. 

If $p < 1$, then $1 - p > 0$ and $\lim_{t \to \infty} \frac{1}{t^{p - 1}} = 
\lim_{t \to \infty} t^{1 - p} = \infty$ and the integral $\int_1^\infty 
\frac{1}{x^p}\,dx$ diverges. 

So, in summary, the $p$-series $\sum_{n = 1} ^ \infty \frac{1}{x^p}$ converges 
if $p > 1$ and diverges if $p \leq 1$. 






\section{Alternating Series}
An alternating series is one in which the terms alternate between positive and 
negative. Here is an example:
$$-\frac{1}{2} + \frac{2}{3} - \frac{3}{4} + \frac{4}{5} - \frac{5}{6} + 
\cdots = \sum_{n=1}^\infty (-1)^n \frac{n}{n + 1}$$
Alternating series are generally of the form
$$a_n = (-1)^n b_n \text{ or } a_n = (-1)^{n - 1} b_n$$
Where $b_n$ is positive (and therefore, $|a_n| = b_n$).

An alternating series is convergent if (i)$b_{n+1} \leq b_n$ and (ii)$\lim_{n 
\to \infty} b_n = 0$. In words, we say that if the absolute value of the terms 
of a series decrease towards zero, then the series converges. 

\begin{figure}[htbp]
\centering
    \begin{tikzpicture}
        \begin{axis}[axis y line = none, width = 2*\axisdefaultwidth, 
        height = 0.25*\axisdefaultwidth, axis lines = center, 
        xtick align = outside, xmin = -0.1, xmax = 7, 
        xtick = {0.01, 1, 2, 3, 4, 5, 6, 7}, xticklabels = {$0$, $s_2$, $s_4$, 
        $s_6$, $s$, $s_5$, $s_3$, $s_1$}, ymin = -0.5, ymax = 0.5, 
        clip = false]
        \draw[blue](0.01, 0) -- (0.01, 6);
        \draw[blue](7, 0) -- (7, 6);
        \draw[red, -latex](0.01, 6) --(7, 6);
        \node[] at (3.5, 6.5) {$b_1$};
        \draw[blue] (1, 0) -- (1, 5);
        \draw[red, -latex] (7, 5) -- (1, 5);
        \node[] at (4, 5.5) {$- b_2$};
        \draw[blue] (6, 0) -- (6, 4);
        \draw[red, -latex] (1, 4) -- (6, 4);
        \node[] at (3.5, 4.5) {$+b_3$};
        \draw[blue] (2, 0) -- (2, 3);
        \draw[red, -latex] (6, 3) -- (2, 3);
        \node[] at (4, 3.5) {$-b_4$};
        \draw[blue] (5, 0) -- (5, 2);
        \draw[red, -latex] (2, 2) -- (5, 2);
        \node[] at (3.5, 2.5) {$+ b_5$};
        \draw[blue] (3, 0) -- (3, 1);
        \draw[red, -latex] (5, 1) -- (3, 1);
        \node[] at (4, 1.5) {$- b_6$};
        \draw[blue] (3.2, -0.25) -- (3.2, 0.25);
        \draw[blue] (4.8, -0.25) -- (4.8, 0.25);
        \draw[blue] (3.5, -0.25) -- (3.5, 0.25);
        \draw[blue] (4.5, -0.25) -- (4.5, 0.25);
        \draw[blue] (3.75, -0.25) -- (3.75, 0.25);
        \draw[blue] (4.25, -0.25) -- (4.25, 0.25);
        \draw[blue] (3.85, -0.25) -- (3.85, 0.25);
        \draw[blue] (4.15, -0.25) -- (4.15, 0.25);
        \draw[blue] (3.9, -0.25) -- (3.9, 0.25);
        \draw[blue] (4.1, -0.25) -- (4.1, 0.25);
        \draw[blue] (3.95, -0.25) -- (3.95, 0.25);
        \draw[blue] (4.05, -0.25) -- (4.05, 0.25);
        \end{axis}
\end{tikzpicture}
    \caption{As $n$ increases, $s_n$ approaches $s$}
    \label{fig:alternating}
\end{figure}
